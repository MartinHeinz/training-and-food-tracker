#:import MDAccordion kivymd.accordion.MDAccordion
#:import MDAccordionItem kivymd.accordion.MDAccordionItem
#:import MDAccordionSubItem kivymd.accordion.MDAccordionSubItem
#:import MDList kivymd.list.MDList

<TableModifications>:
    id: table_mods
    accordion: accordion
    table_form: table_form
    search_box: search_box
    search_input: search_input
    search_results: search_results
    col_value: col_value
    table_value: table_value
    MDAccordion:
        id: accordion
        orientation: 'vertical'
        size_hint_x: None
        width: '240dp'
        TableAccordionItem:
            title:'Add'
            icon: 'plus'
        TableAccordionItem:
            title:'Edit'
            icon: 'pencil'
        TableAccordionItem:
            title:'Remove'
            icon: 'delete'
    ScrollView:
        StackLayout:
            id: scrollable_content
            orientation: 'lr-tb'
            size_hint_x: 1
            size_hint_y: None
            height: self.minimum_height
            BoxLayout:
                id: table_form
                size_hint_x: .45
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(48)
                spacing: 10
            BoxLayout:
                size_hint_x: .45
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: dp(48)
                spacing: 10
                SearchBox:
                    id: search_box
                    BoxLayout:
                        padding: dp(5), dp(4), 0, 0
                        SearchTextInput:
                            id: search_input
                            hint_text: "Search"
                            theme_text_color: 'Primary'
                            on_text_validate:  root.search()# TODO
                    CloseButton:
                        on_release: root.clear_input()
                BoxLayout:
                    size_hint_x: None
                    orientation: 'horizontal'
                    size_hint_y: None
                    width: self.parent.width - self.spacing
                    height: self.minimum_height
                    spacing: 10
                    SearchBox:
                        id: table_name
                        width: self.parent.width * .5
                        BoxLayout:
                            padding: dp(5), dp(4), 0, 0
                            SearchTextInput:
                                id: table_value
                                hint_text: "Table"
                                theme_text_color: 'Primary'
                    SearchBox:
                        id: col_name
                        width: self.parent.width * .5
                        BoxLayout:
                            padding: dp(5), dp(4), 0, 0
                            SearchTextInput:
                                id: col_value
                                hint_text: "Column"
                                theme_text_color: 'Primary'
                ScrollView:
                    do_scroll_x: False
                    size_hint_x: None
                    size_hint_y: None
                    width: self.parent.width
                    height: root.height * .7
                    MDList:
                        id: search_results
                        padding: dp(5), dp(15), 0, 0


<SearchBox@MDCard>:
    size_hint_y: None
    size_hint_x: None
    height: dp(48)
    width: self.parent.width
    x: dp(8)
    orientation: 'horizontal'

<CloseButton@MDIconButton>:
    icon: 'close'
    theme_text_color: 'Secondary'