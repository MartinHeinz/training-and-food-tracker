<Form>:
    id: form
    size_hint_x: .45
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: dp(48)
    spacing: 10

<ExerciseForm>:
    MyTextField:
        name: "name"
        hint_text: "Name"
        helper_text: "Exercise with this name already exists."
        text: "Nazov"
        helper_text_mode: "on_error"
    MyTextField:
        name: "tempo"
        hint_text: "Tempo"
        helper_text: "Tempo in format: eccentric, bottom pos., concentric, top pos., e.g.: 21X0"
        text: "21X0"
    RangeField:
        name: "set_range"
        hint_text: "Set Range"
        helper_text: "Min. and Max. number of sets in format: A-B, e.g. 3-5."
        text: "6-8"
    RangeField:
        name: "rep_range"
        hint_text: "Rep Range"
        helper_text: "Min. and Max. number of reps in format: A-B, e.g. 6-12."
        text: "10-12"
    MyTextField:
        name: "notes"
        hint_text: "Notes"
        multiline: True
        text: "Poznamky"
        helper_text: "Description and notes for exercise."
    MDLabel:
        font_style: 'Body1'
        theme_text_color: 'Primary'
        text: 'Weight information:'
        size_hint_y: None
        height: dp(62)

    MyTextField:
        name: "RM"
        type: "float"
        hint_text: "RM"
        input_filter: "float"
        helper_text: "Number of reps for max weight(Real Max)."
        text: "1"
    RangeField:
        name: "percentage_range"
        hint_text: "Percentage Range"
        helper_text: "Min. and Max. percentage of max weight in format: A-B, e.g. 75-80."
        text: "75-80"
    RangeField:
        name: "kilogram"
        hint_text: "Kilogram"
        helper_text: "Weight range in kilos. Format: A-B, e.g. 80-100."
        text: "80-100"
    BooleanField:
        name: "BW"
        hint_text: "Bodyweight"
        helper_text: "Defines if the exercise is BW or not. value: True/False(blank)."
        text: "False"
    MyTextField:
        name: "band"
        hint_text: "Band"
        helper_text: "Defines if and what band is used for exercise, e.g.: Black Band 5x Wrapped"
        text: "Black Band 5x wrapped"

    ArrayField:
        name: "equipment"
        hint_text: "Equipment"
        helper_text: "List of equipment used for exercise, format: A, B, C..."
        text: "Belt"
    ArrayField:
        name: "tag"
        hint_text: "Tags"
        helper_text: "List of tags used for exercise, format: A, B, C..."
        text: "Upper, Main, Test"

<TrainingExerciseForm>:
    set_tree: set_tree
    MDLabel:
        font_style: 'Body2'
        text: self.parent.exercise.exercise.get_field_secondary_text()
        theme_text_color: 'Primary'
        size_hint: (1, None)
        height: dp(62)
        spacing: 10
        halign: 'center'
    BooleanField:
        name: "is_optional"
        hint_text: "Is optional?"
        helper_text: "Defines if the exercise is optional or not. value: True/False(blank)."
        text: str(self.parent.exercise.is_optional) if self.parent.exercise.is_optional is not None else "False"
        disabled: True
    RangeField:
        name: "pause"
        hint_text: "Pause"
        helper_text: "Pause range in seconds. Format: A-B, e.g. 60-120."
        text: str(self.parent.exercise.pause) if self.parent.exercise.pause is not None else ""
        disabled: True
    TreeView:
        id: set_tree
        root_options: dict(text='Sets')


<-TrainingExerciseEditForm>:
    set_tree: set_tree
    id: form
    size_hint_x: .45
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: dp(48)
    spacing: 10
    MDLabel:
        font_style: 'Body2'
        text: self.parent.exercise.exercise.get_field_secondary_text()
        theme_text_color: 'Primary'
        size_hint: (1, None)
        height: dp(62)
        spacing: 10
        halign: 'center'

    BooleanField:
        name: "is_optional"
        hint_text: "Is optional?"
        helper_text: "Defines if the exercise is optional or not. value: True/False(blank)."
        text: str(self.parent.exercise.is_optional) if self.parent.exercise.is_optional is not None else "False"
    RangeField:
        name: "pause"
        hint_text: "Pause"
        helper_text: "Pause range in seconds. Format: A-B, e.g. 60-120."
        text: str(self.parent.exercise.pause) if self.parent.exercise.pause is not None else ""
    TreeView:
        id: set_tree
        root_options: dict(text='Sets')


<TreeViewSet>:
    id: set
    orientation: 'horizontal'
    size_hint_y: None
    height: self.minimum_height
    padding: dp(10)
    spacing: 10
    MyTextField:
        name: "reps"
        type: "int"
        hint_text: "Reps"
        input_filter: "int"
        #helper_text: "Number of reps."
        helper_text_mode: "none"
        text: str(self.parent.set.reps) if self.parent.set.reps is not None else ""

    MyTextField:
        name: "weight"
        hint_text: "Kilogram"
        #helper_text: "Weight in kilos."
        helper_text_mode: "none"
        text: str(self.parent.set.weight) if self.parent.set.weight is not None else ""
    BooleanField:
        name: "is_PR"
        hint_text: "Is PR?"
        #helper_text: "Defines if the set is PR. value: True/False(blank)."
        helper_text_mode: "none"
        text: str(self.parent.set.is_PR) if self.parent.set.is_PR is not None else ""
    BooleanField:
        name: "is_AMRAP"
        hint_text: "Is AMRAP?"
        #helper_text: "Defines if the set is AMRAP. value: True/False(blank)."
        helper_text_mode: "none"
        text: str(self.parent.set.is_AMRAP) if self.parent.set.is_AMRAP is not None else ""

    MDIconButton:
        icon: 'delete'
        on_press: set.parent.parent.delete_set(self.parent)

<TreeViewAddSet>:
    id: add_set
    orientation: 'horizontal'
    size_hint_y: None
    height: dp(50)
    padding: dp(10)
    spacing: 10
    MDLabel:
        text: 'Add Set'
        theme_text_color: 'Primary'
    MDIconButton:
        icon: 'plus'
        pos_hint: {'center_y': 0.5}
        on_press: add_set.parent.parent.add_set()













